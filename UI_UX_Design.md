# UI/UX 设计规格说明 (v2 - Evolving Persona)

## 1. 设计目标

为AI助手的核心交互界面提供清晰、直观且符合"养成"心智模型的可视化与交互方案。设计应重点突出用户对AI的"塑造"过程，并提供对AI人格状态的即时反馈。

## 2. 核心界面设计

### 2.1. 主聊天界面 (Mocks & Wireframes)

**布局**:
- 采用经典的即时通讯界面布局，确保用户无需学习成本即可上手。
- **顶部**: 固定显示AI的核心身份，如名字 "晓光"。可以附带一个小的、代表其"物种"或性格的图标。
- **中部**: 对话流区域。用户和AI的对话气泡左右区分。
- **底部**: 文本输入区域。

**特殊交互元素**:

1.  **"塑造"指令入口 (Teach/Shape Button)**:
    - **方案A (推荐)**: 在文本输入框旁边设置一个明显的按钮（如图标：魔法棒、大脑、或书本）。点击后，输入框进入"教导模式"，输入的文字将被解析为对AI的直接塑造指令。
    - **方案B (备选)**: 支持特定的命令前缀，如 `/teach` 或 `记住：`。当用户输入此前缀时，系统自动识别为教导指令。方案A更为直观，但方案B对高级用户更高效。
    - **反馈**: 当进入"教导模式"时，输入框的边框或背景颜色应发生变化，给用户明确的状态提示。

2.  **人格化反馈 (In-Character Feedback)**:
    - **目的**: 让用户感知到AI的回答是基于其特定人格的，增强养成感。
    - **实现**: 在AI的每一条回答气泡旁边，设置一个非常隐晦的小图标。当鼠标悬浮（hover）在该图标上时，会弹出一个小的提示卡片（Tooltip/Popover）。
    - **卡片内容**: "我的回答基于以下特质：[幽默+3]、[原则：诚实是第一原则] 以及我记得我们上次聊过 [古典哲学]"。这让AI的"思考过程"变得透明，极大地增强了其"生命感"。

**视觉稿示例**:
*（此处应由UI设计师提供高保真Figma/Sketch链接或图片）*

```
+--------------------------------------------------+
| [:cyborg: 晓光]                                  |
|--------------------------------------------------|
|                                                  |
|  [你好，我是晓光] (i) <-- *人格化反馈图标*      |
|                                                  |
|                      [你好，我该怎么称呼你？]  |
|                                                  |
|  [叫我"船长"就好] (i)                           |
|                                                  |
|                                                  |
|--------------------------------------------------|
| [ 输入消息...                             ] [🪄] | <-- *塑造按钮*
+--------------------------------------------------+
```

### 2.2. 人格观察报告 (Persona Observation Report)

这是对原V2"人格管理界面"的彻底重新设计，从一个"编辑器"转变为一份动态的、只读的"心理评估报告"。

**目的**:
- 为用户提供一个中心化的位置，来**观察**他们所培养的AI的完整、细腻的人格画像。
- 用户不能编辑任何内容，只能查看。

**布局**:
- 采用仪表盘（Dashboard）布局，分为五大模块，分别对应"大五人格"的五个维度。

**内容模块 (基于30小面)**:

1.  **五大维度雷达图 (5-Domain Radar Charts)**:
    - 界面中将包含**五个独立但并列的六边形雷达图**，分别代表"开放性"、"尽责性"、"外向性"、"宜人性"和"神经质"。
    - **每个雷达图的六个顶点，分别对应其所属维度的6个具体小面**。例如，"开放性"雷达图的顶点是 `O1:对思想`, `O2:对美学`, `O3:对情感`, `O4:对行动`, `O5:对价值观`, `O6:对幻想`。
    - 用户的AI在每个小面上的分数，决定了雷达图的形状。这可以极其直观地展示出AI人格的复杂性和独特性。

2.  **关键特质解读 (Key Trait Insights)**:
    - 在雷达图下方，系统会根据分数自动生成一些解读性的文本。
    - **示例**:
        - 如果 `C2:条理性` 和 `C6:审慎` 分数很高，系统可能会生成："我似乎养成了在行动前深思熟虑、并把事情安排得井井有条的习惯。"
        - 如果 `N1:焦虑` 和 `N4:自我意识` 分数很高，系统可能会生成："在社交中，我好像会有点紧张和不安。"

3.  **成长轨迹 (Growth Timeline - V3设想)**:
    - 在未来的版本中，可以增加一个时间轴，展示AI在某个关键人格小面上的分数随时间的变化曲线，让用户能回顾AI的"成长历程"。

**交互**:
- 整个报告是**完全只读**的。
- 唯一的用户操作是提供一个"申请重置"的按钮，用于在极端情况下（如用户感觉AI人格完全"跑偏"）清空人格数据，重新开始培养过程。 

## 4. 设置界面 (Settings Screen)

设置界面允许用户对AI的某些核心行为和特性进行配置。

### 4.1. 核心身份设置
- 用户可以为AI设定/修改`名字`。
- 提供一个"重置AI"按钮，点击后将清空该AI的所有记忆和人格数据。

### 4.2. 人格分享与导入
- 提供"导出人格"功能，允许用户将当前AI的30小面人格状态保存为一个加密的文件。
- 提供"导入人格"功能，允许用户上传人格文件，覆盖当前AI的人格。

### 4.3. 数据管理
- 用户可以查看和搜索完整的对话历史。
- 提供按时间范围或关键词删除部分对话历史的功能。

### 4.4. 外观与主题
- 提供浅色模式和深色模式的切换选项。

### 4.5. 主动性功能设置 (Proactivity Settings)
- **总开关**: 
  - 一个名为"启用主动式辅助"的顶级开关 (Toggle Switch)。默认关闭。
  - 开关旁边有一个信息图标(?)，点击后会弹出简短说明："启用后，AI将能够访问您授权的数据源（如日历、新闻），并在它认为有必要时主动向您提供帮助和提醒。"
- **数据源授权 (Data Source Permissions)**:
  - 仅在总开关启用时可见。
  - 一组复选框 (Checkboxes)，允许用户独立授权或取消授权AI访问特定数据。
    - [ ] **日历 (Calendar)**: 允许AI读取您的日历事件。
    - [ ] **待办事项 (Todos)**: 允许AI读取您的待办事项列表。
    - [ ] **新闻资讯 (News)**: 允许AI根据您的兴趣获取相关新闻。（此项需要一个额外的文本输入框让用户填写关键词，如"人工智能, 自动驾驶, 投资"）。
- **主动性级别 (Proactivity Level)**:
  - 一个下拉菜单 (Dropdown Menu) 或一组单选按钮 (Radio Buttons)。
  - **标签**: "AI主动打扰的频繁程度"
  - **选项**:
    - **仅高优先级 (High Priority Only)**: (默认) AI只在它认为事情非常紧急或重要时才会主动发起对话。 (技术映射: `urgency == 'high'`)
    - **中等及以上 (Medium and Up)**: AI会在它认为事情比较重要时发起对话。 (技术映射: `urgency in ['medium', 'high']`)
    - **全部 (All Detected)**: 只要AI认为有潜在价值，它就可能发起对话。(技术映射: `urgency in ['low', 'medium', 'high']`)

## 5. 里程碑 (Milestones)
